import{a as L,b as P,d as J,f as K,h as W,l as X}from"./chunk-N3LI2L5V.js";import{$ as U,C as E,E as Q,F as x,H as z,I as B,J as q,K as r,L as a,M as c,N as _,O as f,P as w,Q as m,R as S,S as $,U as s,V as G,W as H,Y as k,Z as F,b as j,ca as A,da as N,e as I,f as V,g as O,l as y,n as l,q as R,s as g,t as b,u as h,w as M,y as C,z as p}from"./chunk-TINGAG2K.js";import{c as D}from"./chunk-POLL2CVR.js";var Y=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l({type:e,selectors:[["app-icon-settings"]],standalone:!0,features:[s],decls:4,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-settings"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"],["d","M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"]],template:function(t,o){t&1&&(h(),r(0,"svg",0),c(1,"path",1)(2,"path",2)(3,"path",3),a())},encapsulation:2});let n=e;return n})();var Z=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l({type:e,selectors:[["app-icon-edit"]],standalone:!0,features:[s],decls:5,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-edit"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1"],["d","M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z"],["d","M16 5l3 3"]],template:function(t,o){t&1&&(h(),r(0,"svg",0),c(1,"path",1)(2,"path",2)(3,"path",3)(4,"path",4),a())},encapsulation:2});let n=e;return n})();var ee=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l({type:e,selectors:[["app-icon-delete"]],standalone:!0,features:[s],decls:7,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","width","16","height","16","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-trash"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M4 7l16 0"],["d","M10 11l0 6"],["d","M14 11l0 6"],["d","M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"],["d","M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"]],template:function(t,o){t&1&&(h(),r(0,"svg",0),c(1,"path",1)(2,"path",2)(3,"path",3)(4,"path",4)(5,"path",5)(6,"path",6),a())},encapsulation:2});let n=e;return n})();function ae(n,e){if(n&1){let u=_();r(0,"div",1)(1,"ul",2)(2,"li",3)(3,"button",4),f("click",function(){g(u);let t=w();return b(t.onEditCliente.emit())}),c(4,"app-icon-edit"),m(5," Editar "),a()(),r(6,"li")(7,"button",4),f("click",function(){g(u);let t=w();return b(t.onDeleteCliente.emit())}),c(8,"app-icon-delete"),m(9," Eliminar "),a()()()()}}var te=(()=>{let e=class e{constructor(){this.onEditCliente=new C,this.onDeleteCliente=new C,this.isOpen=!1}openMenu(){this.isOpen=!this.isOpen}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l({type:e,selectors:[["app-menu"]],outputs:{onEditCliente:"onEditCliente",onDeleteCliente:"onDeleteCliente"},standalone:!0,features:[s],decls:3,vars:1,consts:[["type","button",1,"relative",3,"click"],[1,"z-10","absolute","right-0","top-7","p-1","min-w-24","bg-black","rounded-md","border","border-gray-500/50","shadow","overflow-hidden"],["aria-labelledby","dropdownDefaultButton",1,"text-sm","text-gray-200"],[1,"mb-1"],[1,"w-full","flex","flex-row","gap-x-2","items-center","p-1","text-xs","rounded-sm","hover:bg-zinc-900",3,"click"]],template:function(t,o){t&1&&(r(0,"button",0),f("click",function(){return o.openMenu()}),c(1,"app-icon-settings"),Q(2,ae,10,0,"div",1),a()),t&2&&(p(2),z(2,o.isOpen?2:-1))},dependencies:[Y,ee,Z],encapsulation:2});let n=e;return n})();var ne=(()=>{let e=class e{constructor(){this.editCliente=new C,this.deleteCliente=new C}onEditCliente(i){console.log(i),this.editCliente.emit(i)}onDeleteCliente(i){this.deleteCliente.emit(i.id)}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l({type:e,selectors:[["app-card-cliente"]],inputs:{cliente:"cliente"},outputs:{editCliente:"editCliente",deleteCliente:"deleteCliente"},standalone:!0,features:[s],decls:12,vars:4,consts:[[1,"border","border-gray-500/50","rounded-md","p-4","flex","flex-row","gap-x-4"],[1,"flex-1"],[1,"text-black","mb-2","font-bold"],[1,"text-blue-500","mb-2"],[1,"text-black-300","mb-2"],[1,"text-black-400","text-sm"],[3,"onEditCliente","onDeleteCliente"]],template:function(t,o){t&1&&(r(0,"div",0)(1,"div",1)(2,"h4",2),m(3),a(),r(4,"small",3),m(5),a(),r(6,"p",4),m(7),a(),r(8,"p",5),m(9),a()(),r(10,"div")(11,"app-menu",6),f("onEditCliente",function(){return o.onEditCliente(o.cliente)})("onDeleteCliente",function(){return o.onDeleteCliente(o.cliente)}),a()()()),t&2&&(p(3),S(o.cliente.nombreCompleto),p(2),S(o.cliente.telefono),p(2),S(o.cliente.correo),p(2),$(" ",o.cliente.direccion?o.cliente.direccion:""," "))},dependencies:[te],encapsulation:2});let n=e;return n})();function T(n,e){let u=!e?.manualCleanup;u&&!e?.injector&&R(T);let i=u?e?.injector?.get(M)??y(M):null,t;e?.requireSync?t=E({kind:0}):t=E({kind:1,value:e?.initialValue});let o=n.subscribe({next:d=>t.set({kind:1,value:d}),error:d=>{if(e?.rejectErrors)throw d;t.set({kind:2,error:d})}});return i?.onDestroy(o.unsubscribe.bind(o)),k(()=>{let d=t();switch(d.kind){case 1:return d.value;case 2:throw d.error;case 0:throw new O(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}var ie=(()=>{let e=class e{};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l({type:e,selectors:[["app-icon-plus"]],standalone:!0,features:[s],decls:4,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","width","100%","height","100%","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-plus"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M12 5l0 14"],["d","M5 12l14 0"]],template:function(t,o){t&1&&(h(),r(0,"svg",0),c(1,"path",1)(2,"path",2)(3,"path",3),a())},encapsulation:2});let n=e;return n})();var oe=(()=>{let e=class e{constructor(){this.changeQuery=new C,this.control=new K(""),this.query=T(this.control.valueChanges.pipe(I(500),V())),this.newQuery=k(()=>this.query()),F(()=>{this.changeQuery.emit(this.newQuery())})}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l({type:e,selectors:[["app-search-bar"]],outputs:{changeQuery:"changeQuery"},standalone:!0,features:[s],decls:5,vars:1,consts:[[1,"flex","items-center","gap-x-4"],["type","text","placeholder","Buscar clientes",1,"w-full","p-3","rounded-md","text-sm","bg-transparent","border-gray-500","border",3,"formControl"],["routerLink","/dashboard/crear",1,"text-sm","flex","text-nowrap","items-center","gap-x-2","hover:text-gray-300","transition-[color]","ease-in-out","duration-200","p-4","cursor-pointer"],[1,"size-4"]],template:function(t,o){t&1&&(r(0,"div",0),c(1,"input",1),r(2,"a",2),c(3,"app-icon-plus",3),m(4," Agregar nuevo cliente "),a()()),t&2&&(p(),x("formControl",o.control))},dependencies:[ie,X,P,J,W,N],encapsulation:2});let n=e;return n})();var le=(n,e)=>e.id;function se(n,e){if(n&1){let u=_();r(0,"app-card-cliente",4),f("deleteCliente",function(t){g(u);let o=w();return b(o.deleteCliente(t))})("editCliente",function(t){g(u);let o=w();return b(o.editCliente(t))}),a()}if(n&2){let u=e.$implicit;x("cliente",u)}}var We=(()=>{let e=class e{constructor(){this._clientesService=y(L),this._router=y(A),this.clientes$=this._clientesService.getClientes()}deleteCliente(i){return D(this,null,function*(){try{yield this._clientesService.deleteCliente(i)}catch{}})}editCliente(i){console.log(i.id),this._router.navigate(["/dashboard/edit",i.id])}changeQuery(i){return D(this,null,function*(){try{let t=yield this._clientesService.searchClienteByQuery(i);this.clientes$=j(t)}catch(t){console.log(t)}})}};e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l({type:e,selectors:[["app-dashboard-cliente"]],standalone:!0,features:[s],decls:6,vars:2,consts:[[1,"px-4","xl:px-0","w-full","max-w-[1200px]","m-auto"],[3,"changeQuery"],[1,"grid","grid-cols-3","gap-8","mt-8"],[3,"cliente"],[3,"deleteCliente","editCliente","cliente"]],template:function(t,o){t&1&&(r(0,"div",0)(1,"app-search-bar",1),f("changeQuery",function(re){return o.changeQuery(re)}),a(),r(2,"section",2),B(3,se,1,1,"app-card-cliente",3,le),G(5,"async"),a()()),t&2&&(p(3),q(H(5,0,o.clientes$)))},dependencies:[ne,oe,U],encapsulation:2});let n=e;return n})();export{We as default};
